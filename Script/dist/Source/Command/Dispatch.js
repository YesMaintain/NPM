import i from"../Library/Environment.js";import n from"../Library/Request.js";var m=async(t=[])=>{const s=i.GITHUB_USER,f=[],a=[];for(const o of(await n(`GET /users/${s}/repos`))?.data)a.push({owner:s,name:o.name});for(const o of(await n(`GET /users/${s}/orgs`))?.data){f.push({name:o.login});for(const e of(await n(`GET /orgs/${o.login}/repos`))?.data)a.push({owner:o.login,name:e.name})}let r;for(const o of a){for(const e of t)o.name===e?r=!0:r=!1;if(typeof r>"u"||r)for(const e of(await n(`GET /repos/${o.owner}/${o.name}/actions/workflows`,{owner:o.owner,repo:o.name}))?.data?.workflows)await n(`POST /repos/${o.owner}/${o.name}/actions/workflows/${e.id}/dispatches`,{ref:"main"})}};export{m as default};
