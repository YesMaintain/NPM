import*as r from"fs";import n from"../lib/git-directories.js";import f from"../lib/packages.js";import m from"../options/funding.js";const w=async s=>{for(const{path:t,name:i,workflow:e}of s)for(const[c]of await n(await f())){const o=`${c}/.github`,a=await e();if(a.size>0){try{await r.promises.mkdir(`${o}${t}`,{recursive:!0})}catch{console.log(`Could not create: ${o}${t}`)}try{await r.promises.writeFile(`${o}${t}${i}`,`${[...a].join("")}`)}catch{console.log(`Could not create workflow for: ${o}/FUNDING.yml`)}}else try{await r.promises.access(`${o}${t}${i}`,r.constants.F_OK);try{await r.promises.rm(`${o}${t}${i}`)}catch{console.log(`Could not remove ${t}${i} for: ${o}`)}}catch{}}};var u=async()=>{await w(m)};export{u as default};
